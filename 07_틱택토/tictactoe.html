<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>틱택토</title>
  <style>
    table {
      border-collapse: collapse;
    }

    td {
      border: 1px solid black;
      width: 40px;
      height: 40px;
      text-align: center;
    }
  </style>
</head>

<body>
  <!-- <table>
    <tr>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </table> -->
<script>
  const { body } = document;
  
  //  구조분해할당(destructuring)

  //  객체

  //  const { body } = document; === const body = document.body;
  //  객체 안의 속성과 변수 이름이 같을 때 이런 식으로 하면 편리하다.
  //  이게 뭐가 좋은가 하면,
  //  const createElement = document.createElement; 를 위에 함께 선언할 수 있음. (라이브러리나 프레임워크에서 import 할 때 보던 형식!)

  //  ** const { body, createElement } = document; 는 선언할 수 없음. 구조분해할당이 모든 기능을 지원하지 않음. **

  // const obj = { a: 1, b: 2 };
  // const { a, b } = obj;
  // 다음 두 줄을 이렇게 한 줄로 표현 가능
  // const a = obj.a;
  // const b = obj.b;

  //  배열

  // const arr = [1, 2, 3, 4, 5];
  // const one = arr[0];
  // const three = arr[2];
  // const five = arr[4];
  // 이렇게 각 index를 변수화해서 쓰는 경우가 있는데,
  // const [one,, three,, five] = arr;
  // 이렇게 선언해서 사용 가능
  // 안 쓰는 부분은 쓰지 않으면 됨. 컴마로 비워두면 알아서 건너뜀


  // Q. 다음 객체에서 a, c, e 속성을 구조분해 할당 문법으로 변수에 할당해보세요.

  // const obj = {
  //   a: 'hello',
  //   b: {
  //     c: 'hi',
  //     d: { e: 'wow' },
  //   },
  // };
  
  // const { a, b: { c, d: { e } } } = obj;
  // 는 다음과 같다.
  // const a = obj.a;
  // const c = obj.b.c;
  // const e = obj.b.d.e;

  // b, d 는 구조분해할당 불가. 말단만 가능.
  // b: 라고 쓰는 순간, (콜론 쓰는 순간 변수로 할당 불가)
  // 굳이 b를 변수화 하려면,

  // const { a, b } = obj;
  // const { d: { e } } = b;
  // 처럼 표현해야 한다.

  //  구조분해할당 >> 원래 객체에서 내가 쓰고싶은 부분만 변수로 만들어서 쉽게 사용하려는 목적.


  //  Q. 5(줄) * 4(칸) 이차원 배열을 만들어 보세요. 배열의 요소는 모두 1로 만듭니다.

  // const rows1 = [];
  //   for (let i = 0; i < 5; i++) {
  //     const cells1 = [];
  //     for (let j = 0; j < 4; j++) {
  //       cells1.push(1);
  //     }
  //     rows1.push(cells1);
  //   }
    

  const $table = document.createElement('table');
  const $result = document.createElement('div');
  const rows = [];
  let turn = 'O';

  //  JS로 table 생성
  for (let i = 0; i < 3; i++) {
    const $tr = document.createElement('tr');
    const cells = [];
    for (let j = 0; j < 3; j++) {
      const $td = document.createElement('td');
      cells.push($td);
      $td.addEventListener('click', (event) => {
        //  칸에 글자가 있나?
        if (event.target.textContent) {
          return;
        }
        event.target.textContent = turn;
        //  승부 확인
        if (turn === 'O') {
          turn = 'X';
        } else if (turn === 'X') {
          turn = 'O';
        }
      });
      $tr.append($td);
    }
    rows.push(cells);
    $table.append($tr);
  }

  body.append($table);
  body.append($result);
</script>
</body>
</html>